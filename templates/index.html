{% extends 'base.html'%}


{% block header %}
  <title>Home</title>
{% endblock %}
        


{% block content %}

<div class="container">
  <h1 class='heading text-center'>Cat & Dog Classification</h1>
  
</div>




<!-- container -->
<div class="container">
<div class="row">
  <div class="col-md ">

    <br><br>
    <form  action="{{ url_for('result') }}" method="POST"  enctype="multipart/form-data">
        <div class="form-group">
          <label for="file">Select Dog Or Cat Image</label>
          <input type="file" class="form-control" id="name" name="img" aria-describedby="nameHelp" placeholder="Enter name" required oninput="checkextention()">
          <p id="msg"></p>
        </div>


        <button type="submit" id="submit" class="btn btn-primary">Submit</button>

      </form>
  </div>
 
  <div class="col-md">
    <img src="{{ url_for('static',filename = 'img/catdog.png')}}" class="img-fluid" alt="Responsive image">
  </div>
</div>
</div>


<!-- end containers -->
<br>


<script>
// document.getElementById('male').onselect = changevalue;    

function checkextention() {
    var validFileExtensions = ["jpg", "jpeg", "bmp", "png"];    
    var name = document.getElementById('name').value;
    var extension = name.replace(/^.*\./, '');
    var count = 0;
    for(let i in validFileExtensions)
    {
      if(extension==validFileExtensions[i])
      {
        //document.getElementById('msg').innerHTML = extension; -
        count = count + 1;
      }

    }
    if(count==0)
    {
      document.getElementById('msg').style.color = 'red';
      document.getElementById('msg').innerHTML = extension+" file is not allowed.";

      document.getElementById('submit').disabled = true;
    }
    else
    {
      document.getElementById('msg').innerHTML ='';
      document.getElementById('submit').disabled = false;
    }
    
      
    return false;
} 

</script>

{% endblock%}
          
